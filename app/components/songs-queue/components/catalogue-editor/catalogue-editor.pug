md-content(layout="column" layout-fill)
    md-toolbar(layout="row" layout-align="space-between center")
        .logo
            img(ng-src='{{$ctrl.logo}}')
    md-toolbar(layout="row" layout-align="start center")
        md-button.nav-btn(ui-sref="songs-queue",
        layout="column" layout-align="center center")
            md-tooltip(md-direction="right")
                | Back to songs queue?
            img(ng-src="{{$ctrl.arrowBackIco}}")

        .search(layout="row")
            input(type="search", name="search-query", placeholder="Type song name...", ng-model="$ctrl.searchQuery", ng-change="$ctrl.findSongsByQuery()")
            md-button(ng-if="$ctrl.searchQuery.length", ng-click="$ctrl.getDefaultData()",
            layout="column" layout-align="center center")
                img(ng-src="{{$ctrl.closeIco}}")

        md-button.nav-btn(ng-click="$ctrl.orderSelectedSongs()",
        ng-if="$ctrl.canOrderSongs",
        layout="column" layout-align="center center")
            md-tooltip(md-direction="left")
                | Add selected songs
            img(ng-src="{{$ctrl.addToPlayListIco}}")
    md-content(layout="row")
        form.search-query-container(layout="column", layout-align="center center", name="songsAddingFrom", layout-fill)
            h2(ng-if="$ctrl.searchResult.length")
                span(ng-bind="$ctrl.searchResult.length")
                span &nbsp;songs found
            md-content.search-result(layout-fill)
                md-virtual-repeat-container(ng-if="$ctrl.searchResult.length", layout-fill, ng-class="{ 'editing-enabled': $ctrl.editingEnabled }")
                    md-list-item(md-virtual-repeat="song in $ctrl.searchResult", ng-click="$ctrl.enableEditing($event, song)", ng-class="{ 'editable': song.inEditing }")
                        .song-info(layout="row", layout-align="space-between center", layout-padding, flex, ng-if="!song.inEditing")
                            .md-list-item-text(layout="row", flex="70")
                                h4(ng-bind="song.title")
                                p(ng-bind="song.artist")
                        .song-info(layout="row", layout-align="space-between center", layout-padding, flex, ng-if="song.inEditing")
                            md-input-group.md-list-item-text(layout="row", flex="70")
                                md-input-container
                                    label Song Title
                                    input(ng-model="$ctrl.editableSongCopy.title", required)
                                md-input-container
                                    label Song Artist
                                    input(ng-model="$ctrl.editableSongCopy.artist", required)
                            .btn-group(layout="row" flex="20")
                                md-button(ng-click="$ctrl.updateSongData()").md-primary
                                    img(ng-src="{{$ctrl.doneIco}}")
                                md-button(ng-click="$ctrl.rejectChanges(song)").md-primary
                                    img(ng-src="{{$ctrl.closeWhiteIco}}")